pre-commit:
  commands:
    terraform-fmt:
      glob: "*.tf"
      run: terraform fmt {staged_files}
      stage_fixed: true
    gitleaks:
      run: gitleaks protect --staged
    checkov-vpc-lambda:
      root: "vpc-lambda-eip-demo/"
      glob: "*.tf"
      run: checkov -d .
    checkov-slidev:
      root: "slidev/terraform/"
      glob: "*.tf"
      run: checkov -d .
    tflint-vpc-lambda:
      root: "vpc-lambda-eip-demo/"
      glob: "*.tf"
      run: tflint
    tflint-slidev:
      root: "slidev/terraform/"
      glob: "*.tf"
      run: tflint
